<div align="center">
  <img src="apps/frontend/public/logo.svg" alt="Daer Novel Logo" width="120" height="120">
  
  # Daer Novel
  
  **åŸºäºå¤šæ™ºèƒ½ä½“åä½œçš„ AI é•¿ç¯‡å°è¯´ç”Ÿæˆå¹³å°**
  
  ä»è®¾å®šåˆ°è¿è½½ï¼Œå…¨æµç¨‹ AI åˆ›ä½œç³»ç»Ÿ
  
  [![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
  [![TypeScript](https://img.shields.io/badge/TypeScript-5.3-blue.svg)](https://www.typescriptlang.org/)
  [![Next.js](https://img.shields.io/badge/Next.js-14-black.svg)](https://nextjs.org/)
  [![Express](https://img.shields.io/badge/Express-4.18-green.svg)](https://expressjs.com/)
  [![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-blue.svg)](https://www.postgresql.org/)
  [![Docker](https://img.shields.io/badge/Docker-ready-blue.svg)](https://www.docker.com/)
  
  [åœ¨çº¿ä½“éªŒ](https://novel.daerai.com) Â· [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) Â· [æ–‡æ¡£](#-æ–‡æ¡£) Â· [è”ç³»æˆ‘ä»¬](#-è”ç³»æˆ‘ä»¬)
</div>

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

<table>
  <tr>
    <td width="50%">
      <h3>ğŸ¤– å¤šæ™ºèƒ½ä½“åä½œ</h3>
      <p>7 ä¸ªä¸“ä¸š AI ä»£ç†åˆ†å·¥åä½œï¼Œä»å¤§çº²è§„åˆ’åˆ°æ­£æ–‡ç”Ÿæˆï¼Œå®Œæ•´è¦†ç›–å°è¯´åˆ›ä½œæµç¨‹</p>
    </td>
    <td width="50%">
      <h3>ğŸ“š ç»“æ„åŒ–çŸ¥è¯†åº“</h3>
      <p>è‡ªåŠ¨æå–å’Œç®¡ç†äººç‰©ã€åœ°ç‚¹ã€é“å…·ç­‰å…³é”®è¦ç´ ï¼Œä¿è¯é•¿ç¯‡è¿è½½çš„ä¸–ç•Œè§‚ä¸€è‡´æ€§</p>
    </td>
  </tr>
  <tr>
    <td>
      <h3>âš¡ å®æ—¶è¿›åº¦è¿½è¸ª</h3>
      <p>BullMQ å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ— + WebSocket å®æ—¶æ¨é€ï¼Œéšæ—¶æŒæ¡ç”Ÿæˆè¿›åº¦</p>
    </td>
    <td>
      <h3>ğŸ¨ ç°ä»£åŒ–ç•Œé¢</h3>
      <p>Next.js 14 + Tailwind CSSï¼Œç»ç’ƒæ€è®¾è®¡é£æ ¼ï¼Œä¼˜é›…æµç•…çš„ç”¨æˆ·ä½“éªŒ</p>
    </td>
  </tr>
  <tr>
    <td>
      <h3>ğŸ”Œ å¤š AI æä¾›å•†</h3>
      <p>æ”¯æŒ OpenAIã€Claudeã€DeepSeek ç­‰ä¸»æµ AI æ¨¡å‹ï¼Œçµæ´»é…ç½®</p>
    </td>
    <td>
      <h3>ğŸ” å®Œå–„çš„è®¤è¯ç³»ç»Ÿ</h3>
      <p>æ”¯æŒé‚®ç®±å¯†ç ã€GitHubã€Googleã€LinuxDo ç­‰å¤šç§ç™»å½•æ–¹å¼</p>
    </td>
  </tr>
  <tr>
    <td>
      <h3>ğŸ“± è·¨å¹³å°æ”¯æŒ</h3>
      <p>åŸºäº Tauri çš„æ¡Œé¢ç«¯ï¼Œæ”¯æŒ Windowsã€macOSã€Linux</p>
    </td>
    <td>
      <h3>ğŸ³ å®¹å™¨åŒ–éƒ¨ç½²</h3>
      <p>Docker Compose ä¸€é”®éƒ¨ç½²ï¼Œæ”¯æŒç”Ÿäº§ç¯å¢ƒå¿«é€Ÿä¸Šçº¿</p>
    </td>
  </tr>
</table>

---

<details>
<summary><h2>ğŸ“¸ é¡¹ç›®é¢„è§ˆ</h2></summary>


![ä¸»é¡µ](screenshots/home.png)

![å°è¯´è¯¦æƒ…](screenshots/index.png)

![ç« èŠ‚åˆ›ä½œ](screenshots/index1.png)

![ç« èŠ‚åˆ›ä½œ](screenshots/index2.png)

![ç« èŠ‚åˆ›ä½œ](screenshots/index3.png)

![ç« èŠ‚åˆ›ä½œ](screenshots/index4.png)

![ç« èŠ‚åˆ›ä½œ](screenshots/index5.png)

![ç« èŠ‚åˆ›ä½œ](screenshots/index6.png)

![ç« èŠ‚åˆ›ä½œ](screenshots/index7.png)

</details>

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **Node.js** >= 18
- **Docker** & Docker Compose
- **npm** >= 9

### ä¸€é”®å¯åŠ¨

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/yuwangi/daer-novel.git
cd daer-novel

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env å¡«å…¥ä½ çš„ AI API å¯†é’¥

# 3. è¿è¡Œå¯åŠ¨è„šæœ¬
chmod +x start.sh
./start.sh
```

### è®¿é—®åº”ç”¨

- ğŸŒ **å‰ç«¯**: http://localhost:8001
- ğŸ”§ **åç«¯**: http://localhost:8002
- ğŸ“– **API æ–‡æ¡£**: http://localhost:8002/api-docs

> ğŸ’¡ è¯¦ç»†å®‰è£…æŒ‡å—è¯·æŸ¥çœ‹ [SETUP.md](./SETUP.md)

---

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| Express.js | è½»é‡çº§ Web æ¡†æ¶ |
| PostgreSQL + pgvector | æ•°æ®åº“å’Œå‘é‡æ£€ç´¢ |
| Drizzle ORM | ç±»å‹å®‰å…¨çš„ ORM |
| BullMQ + Redis | ä»»åŠ¡é˜Ÿåˆ—å’Œç¼“å­˜ |
| Socket.IO | WebSocket å®æ—¶é€šä¿¡ |
| Better Auth | ç°ä»£åŒ–è®¤è¯æ¡†æ¶ |

### å‰ç«¯æŠ€æœ¯

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| Next.js 14 | React æ¡†æ¶ï¼ˆApp Routerï¼‰ |
| TypeScript | ç±»å‹å®‰å…¨ |
| Tailwind CSS | åŸå­åŒ– CSS æ¡†æ¶ |
| Socket.IO Client | å®æ—¶é€šä¿¡å®¢æˆ·ç«¯ |
| Tauri | æ¡Œé¢ç«¯æ‰“åŒ… |

### AI é›†æˆ

- **OpenAI** - GPT-4ã€GPT-3.5 Turbo
- **Anthropic** - Claude 3.5 Sonnet
- **DeepSeek** - DeepSeek Chat
- è‡ªå®šä¹‰æä¾›å•†æŠ½è±¡å±‚

---

## ğŸ¯ AI ä»£ç†ç³»ç»Ÿ

| ä»£ç† | åŠŸèƒ½ | è¾“å…¥ | è¾“å‡º |
|------|------|------|------|
| **OutlineAgent** | ç”Ÿæˆå…¨æ–‡å¤§çº² | å°è¯´è®¾å®š | å®Œæ•´æ•…äº‹å¤§çº² |
| **TitleAgent** | ç”Ÿæˆä¹¦å | å¤§çº² | 3-5 ä¸ªä¹¦åå»ºè®® |
| **ChapterPlanningAgent** | ç« èŠ‚ç»“æ„è§„åˆ’ | å¤§çº² | å·/ç« èŠ‚ç»“æ„ |
| **ChapterOutlineAgent** | ç« èŠ‚å¤§çº² | ç« èŠ‚ä¿¡æ¯ | ç« èŠ‚å¤§çº² |
| **ChapterDetailAgent** | ç« èŠ‚ç»†çº² | ç« èŠ‚å¤§çº² | è¯¦ç»†æƒ…èŠ‚ç‚¹ |
| **ContentAgent** | æ­£æ–‡ç”Ÿæˆ | ç»†çº² | ç« èŠ‚æ­£æ–‡ |
| **ConsistencyAgent** | ä¸€è‡´æ€§æ ¡éªŒ | ç”Ÿæˆå†…å®¹ | æ ¡éªŒç»“æœ |

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
daer-novel/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ backend/              # Express åç«¯
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ database/     # æ•°æ®åº“é…ç½®å’Œæ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ services/ai/  # AI æä¾›å•†å’Œä»£ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ queue/        # BullMQ ä»»åŠ¡é˜Ÿåˆ—
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/       # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ middleware/   # ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ utils/        # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â””â”€â”€ frontend/             # Next.js å‰ç«¯
â”‚       â”œâ”€â”€ app/              # é¡µé¢è·¯ç”±
â”‚       â”œâ”€â”€ components/       # React ç»„ä»¶
â”‚       â”œâ”€â”€ lib/              # å·¥å…·åº“
â”‚       â””â”€â”€ package.json
â”œâ”€â”€ .github/workflows/        # CI/CD é…ç½®
â”œâ”€â”€ docker-compose.yml        # Docker ç¼–æ’
â”œâ”€â”€ .env.example              # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ README.md
```

---

## ğŸ“– æ–‡æ¡£

- ğŸ“˜ [SETUP.md](./SETUP.md) - è¯¦ç»†å®‰è£…å’Œé…ç½®æŒ‡å—
- ğŸ“— [API.md](./API.md) - å®Œæ•´ API æ¥å£æ–‡æ¡£
- ğŸ“™ [walkthrough.md](./brain/walkthrough.md) - åŠŸèƒ½è¯¦è§£å’Œä½¿ç”¨è¯´æ˜

---

## ğŸ”§ å¼€å‘æŒ‡å—

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# æ–¹å¼ä¸€ï¼šåŒæ—¶å¯åŠ¨å‰åç«¯ï¼ˆWeb æ¨¡å¼ï¼‰
pnpm run dev

# æ–¹å¼äºŒï¼šæ¡Œé¢ç«¯å¼€å‘æ¨¡å¼ï¼ˆTauriï¼‰
pnpm run tauri:dev

# æ–¹å¼ä¸‰ï¼šåˆ†åˆ«å¯åŠ¨
cd apps/backend && pnpm run dev
cd apps/frontend && pnpm run dev
```

### åº”ç”¨æ‰“åŒ… (Tauri)

```bash
# ç”Ÿæˆå½“å‰ç³»ç»Ÿçš„å®‰è£…åŒ…
pnpm run tauri:build
```

> **æ³¨æ„**ï¼šæ‰“åŒ…å‰è¯·ç¡®ä¿å·²å®‰è£… [Rust](https://www.rust-lang.org/) ç¯å¢ƒ

### è‡ªåŠ¨åŒ–å‘å¸ƒ (GitHub Actions)

æ¨é€ç‰ˆæœ¬æ ‡ç­¾è‡ªåŠ¨è§¦å‘å¤šå¹³å°æ„å»ºï¼š

```bash
git tag v1.0.0
git push origin v1.0.0
```

### æ•°æ®åº“æ“ä½œ

```bash
cd apps/backend

# ç”Ÿæˆè¿ç§»
npm run migration:generate

# æ‰§è¡Œè¿ç§»
npm run migration:run

# å¡«å……æ¼”ç¤ºæ•°æ®
npm run seed
```

---

## ğŸ§ª æµ‹è¯•æµç¨‹

1. **æ³¨å†Œè´¦æˆ·** - è®¿é—® http://localhost:8001/register
2. **åˆ›å»ºå°è¯´** - é€‰æ‹©ç±»å‹ã€é£æ ¼ã€å¡«å†™èƒŒæ™¯è®¾å®š
3. **ç”Ÿæˆå¤§çº²** - è¿›å…¥å°è¯´è¯¦æƒ… â†’ å¤§çº²æ ‡ç­¾ â†’ AI ç”Ÿæˆ
4. **æ·»åŠ äººç‰©** - äººç‰©å¡æ ‡ç­¾ â†’ æ·»åŠ ä¸»è§’ã€é…è§’
5. **ç”Ÿæˆç« èŠ‚** - ç« èŠ‚æ ‡ç­¾ â†’ ç”Ÿæˆç« èŠ‚ç»“æ„
6. **æŸ¥çœ‹å†…å®¹** - é˜…è¯»å™¨æŸ¥çœ‹ç”Ÿæˆçš„æ­£æ–‡

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼

- ğŸ› æäº¤ Bug æŠ¥å‘Š
- ğŸ’¡ æå‡ºæ–°åŠŸèƒ½å»ºè®®
- ğŸ“ æ”¹è¿›æ–‡æ¡£
- ğŸ”§ æäº¤ä»£ç æ”¹è¿›

è¯·é˜…è¯» [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md) äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) è®¸å¯è¯ã€‚

---

## ğŸ™ è‡´è°¢

- [LobeHub](https://github.com/lobehub) - æ¶æ„è®¾è®¡çµæ„Ÿ
- [OpenAI](https://openai.com/) - GPT æ¨¡å‹æ”¯æŒ
- [Anthropic](https://www.anthropic.com/) - Claude æ¨¡å‹æ”¯æŒ
- [Better Auth](https://www.better-auth.com/) - è®¤è¯æ¡†æ¶
- æ‰€æœ‰å¼€æºé¡¹ç›®è´¡çŒ®è€…

---

## ğŸ“® è”ç³»æˆ‘ä»¬

<div align="center">
  <table>
    <tr>
      <td align="center">
        <img src="apps/frontend/public/my.png" alt="ä¸ªäººå¾®ä¿¡" width="200"><br>
        <b>ä¸ªäººå¾®ä¿¡</b><br>
        æ‰«ç æ·»åŠ ï¼Œäº¤æµæŠ€æœ¯
      </td>
      <td align="center">
        <img src="apps/frontend/public/qun.png" alt="å¾®ä¿¡ç¾¤" width="200"><br>
        <b>å¾®ä¿¡äº¤æµç¾¤</b><br>
        åŠ å…¥ç¤¾åŒºï¼Œå…±åŒæˆé•¿
      </td>
    </tr>
  </table>
</div>

---

<div align="center">
  <b>â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª Starï¼â­</b>
  
  **å¼€å§‹ä½ çš„ AI åˆ›ä½œä¹‹æ—…ï¼** ğŸ‰
</div>
